<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>student grade</title>
  </head>
  <body>
    <form id="f">
      <input type="text" name="nm" id="nm" placeholder="Name" />
      <input type="number" name="en" id="en" placeholder="English" />
      <input type="number" name="mt" id="mt" placeholder="Math" />
      <input type="number" name="ec" id="ec" placeholder="Econs" />
      <input type="number" name="ag" id="ag" placeholder="Agric" />
      <input type="number" name="art" id="art" placeholder="art" />
      <!-- <input type="number" name="avg" id="avg" placeholder="average"/> -->
    </form>
    <button onclick="studentGrades()">click</button>
    <table id="table">
      <thead>
        <th>Name</th>
        <th>English</th>
        <th>Maths</th>
        <th>Econs</th>
        <th>Agric</th>
        <th>Art</th>
        <th>Total Score</th>
        <th>Average</th>
      </thead>
      <tbody id="tbody"></tbody>
    </table>

    <p></p>
    <cite></cite>
    <strong></strong>
    
    <script>
      let table = document.querySelector("table");
      table.setAttribute("border", "3");
    let  p = document.querySelector("p");
     let  cite = document.querySelector('cite');
     let  strong = document.querySelector('strong');
     
      let  array = [];
      let avgarr = [];
      let inpArr = [];
      console.log()

      let tbody = document.querySelector("tbody");
      function studentGrades() {
      
        let input = {
          nam: document.getElementById("nm").value,
          eng: document.getElementById("en").value,
          math: document.getElementById("mt").value,
          econs: document.getElementById("ec").value,
          agric: document.getElementById("ag").value,
          art: document.getElementById("art").value
        };
        let tr = table.insertRow(1);
        let cell1 = tr.insertCell(0);
        let cell2 = tr.insertCell(1);
        let cell3 = tr.insertCell(2);
        let cell4 = tr.insertCell(3);
        let cell5 = tr.insertCell(4);
        let cell6 = tr.insertCell(5);
        let cell7 = tr.insertCell(6);
        let cell8 = tr.insertCell(7);
inpArr.push(input)
        cell1.innerHTML = input.nam;
        cell2.innerHTML = input.eng;
        cell3.innerHTML = input.math;
        cell4.innerHTML = input.econs;
        cell5.innerHTML = input.agric;
        cell6.innerHTML = input.art;

        tbody.appendChild(tr);
        let allScore =
          Number(cell2.innerHTML) +
          Number(cell3.innerHTML) +
          Number(cell4.innerHTML) +
          Number(cell5.innerHTML) +
          Number(cell6.innerHTML);

        cell7.innerHTML = allScore;
        input.tot = allScore;
        console.log(input.tot)
        let count = 0;

let sub = document.getElementById('en');
          let mt = document.getElementById('mt');
          let ec = document.getElementById('ec');
          let ag = document.getElementById('ag');
          let art = document.getElementById('art');
          
          if(cell2.innerHTML == '' ){
          cell2.innerHTML = 0;
          console.log( ' u got zero in ' + sub.placeholder);
          strong.innerHTML = ( ' u got zero in ' + sub.placeholder)
        return false
          }else if(cell3.innerHTML == ''){
            cell3.innerHTML = 0;
            console.log( 'u got zero in ' + mt.placeholder);
          strong.innerHTML = ( 'u got zero in ' + mt.placeholder)
          return false

          }else if(cell4.innerHTML == ''){
            cell4.innerHTML = 0;
            console.log( 'u got zero in ' + ec.placeholder);
          strong.innerHTML = ( 'u got zero in ' + ec.placeholder)
          return false
          }else if(cell5.innerHTML == ''){
            cell5.innerHTML = 0;
            console.log( 'u got zero in ' + ag.placeholder);
            strong.innerHTML = ( 'u got zero in ' + ag.placeholder)
          return false

          }else if(cell6.innerHTML == ''){
            cell6.innerHTML = 0;
            console.log( 'u got zero in ' + art.placeholder);
          strong.innerHTML = ( 'u got zero in ' + art.placeholder)
          return false
          }

        array.push(allScore);
        for (let i = 0; i < array.length; i++) {
          count += array[i];
        }
        console.log(inpArr)
        p.innerText = count;
        let average = parseFloat(cell7.innerHTML) / 5;
        cell8.innerHTML = average;
        input.avg = average
        console.log(input.avg);
       avgarr.push(average)
       if(avgarr.length == 5){
         let avgMax = Math.max(...avgarr);
         cite.innerText = avgMax;
         console.log(avgMax)
         let avgMaxScorer = inpArr.filter(n => n.avg == avgMax)
         console.log(avgMaxScorer)
       }
       console.log(avgarr);
  
          // let a = inpArr.filter(r => r != Number);
          
          
      }
    </script>
  </body>
</html>
